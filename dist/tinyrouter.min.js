/*! tinyrouter attrs */!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("tinyrouter",[],r):"object"==typeof exports?exports.tinyrouter=r():t.tinyrouter=r()}(this,function(){return function(t){function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var e={};return r.m=t,r.c=e,r.p="",r(0)}([function(t,r,e){function n(t,r){return t.indexOf(r,t.length-r.length)!==-1}function o(t,r){var e=c.fromString(t),n=c.fromString(t+"/*after");return{match:function(o){if("/"===t&&r)return!0;if(e.matches(o))return e.match(o).namedParams;if(r&&n.matches(o)){var i=n.match(o).namedParams;return delete i.after,i}return!1},matches:function(t){return!!pattern.matches(t)||!(!r||!n.matches(t))}}}function i(t,r){if("/"===t[0]&&(t=t.substring(1)),"/"===r[0]&&(r=r.substring(1)),n(t,"/")&&(t=t.substring(0,t.length-1)),n(r,"/")&&(r=r.substring(0,r.length-1)),!t)return{sub:"/"+r,parent:""};for(;~t.indexOf("//");)t.split("//").join("/");for(;~r.indexOf("//");)r.split("//").join("/");t=t.split("/"),r=r.split("/");for(var e=[],o=[],i=0;i<r.length;i++){if(t[i]&&":"!==t[i][0]&&r[i]!==t[i])return null;i>=t.length?e.push(r[i]):o.push(r[i])}return{parent:"/"+o.join("/"),sub:"/"+e.join("/")}}function s(){var t={};return[].forEach.call(arguments,function(r){if(r&&"object"==typeof r)for(var e in r)t[e]=r[e]}),t}function a(t){t=t||p++;var r=!0,e=[],n=function(o,a,c){o=o||{},a=a||{};if("function"==typeof n.prepare){var f=n.prepare(o,a);o=f.request,a=f.response}var p=o.parentURL=o.parentURL||"",m=o.url=o.url||"/",g=o.href=o.href||o.url,v=o.params=o.params||{},d=!1;o.routes=o.routes||[],o.routes.splice(0,0,n);var y=function(e){return d?console.error("next function twice called.",t,e):(d=!0,r=!1,o.parentURL=p,o.url=m,o.href=g,o.params=v,e?(l.fire("error",{router:n,href:o.href,url:o.url,request:o,response:a,error:e},o.routes),c&&c(e)):(l.fire("notfound",{router:n,href:o.href,url:o.url,request:o,response:a}),void(c&&c())))},b=0,x=function(t){if(t)return y(t);var c=e[b++];if(!c)return y();if(!r&&"boot"===c.type)return x();var f=c.fn,g=(c.type,c.path),d=c.pattern&&c.pattern.match(o.url);if(!d)return x();if(o.params=s(v,d),o.parentURL=p,o.url=m,o.boot=r,"string"==typeof f){if("/"==f[0]||"."==f[0])return console.error("[tinyrouter] illegal replace url",f);var w=o.href;return o.url=m="/"+f,o.href=u.join(p||"/",f),l.fire("replace",{router:n,previous:w,href:o.href,url:o.url,request:o,response:a},o.routes),x()}if(f.__router__||f.Routable){var P=i(g,h.parse(o.url).pathname);o.parentURL=P.parent?u.join(p,P.parent):p,o.url=o.url.substring(P.parent.length)}l.fire("route",{router:n,config:c,href:o.href,url:o.url,request:o,response:a},o.routes),c.fn.apply(n,[o,a,x])};x()};n.Routable=!0,n.id=t,n.exists=function(t){var r=!1;return e.forEach(function(e){if(!r)if("get"===e.type){var n=e.pattern.match(t);n&&(r=!0)}else"use"===e.type&&(r=e.fn.exists(t.substring(e.path.length)))}),r};var a=function(t){var r=t.fn;if(r&&r===n)throw new Error("cannot add router itself: "+r.id);(r.__router__||r.Routable)&&(r.connect&&r.connect(n,"up"),l.connect(r,"down"),r.fire&&r.fire("add",{parent:n})),e.push(t),l.fire("addchild",{child:t}),l.fire("subtree",{router:n,added:t},"up")},c=function(t){var r=t.fn;r&&(r.disconnect&&r.disconnect(n),l.disconnect(t.fn),r.fire&&r.fire("remove",{parent:n})),e.splice(e.indexOf(t),1),l.fire("removechild",{child:t}),l.fire("subtree",{router:n,removed:t},"up")};n.use=function(t,r){if("function"==typeof t&&(r=t,t="/"),"string"!=typeof t)throw new TypeError("illegal type of path:"+typeof t);return a({type:"use",path:t||"/",pattern:o(t,!0),fn:r}),this},n.get=function(t,r){if("function"==typeof t&&(r=t,t="/"),"string"!=typeof t)throw new TypeError("illegal type of path:"+typeof t);return a({type:"get",path:t||"/",pattern:o(t),fn:r}),this},n.boot=function(t,r){if("function"==typeof t&&(r=t,t="/"),"string"!=typeof t)throw new TypeError("illegal type of path:"+typeof t);return a({type:"boot",path:t||"/",pattern:o(t,!0),fn:r}),this},n.notfound=function(t){return n.on("notfound",t),this},n.error=function(t){return n.on("error",t),this},n.drop=n.remove=function(t){var r=[];return e.forEach(function(e){e.fn===t&&r.push(e)}),r.forEach(function(t){c(t)}),this},n.clear=function(){return e.forEach(function(t){c(t)}),e=[],l.fire("clear",{},"up"),this};var l=f(n);return n.on=function(t,r){return l.on.apply(l,arguments),this},n.once=function(t,r){return l.once.apply(l,arguments),this},n.off=function(t,r){return l.off.apply(l,arguments),this},n.fire=function(t,r,e,n){return l.fire.apply(l,arguments)},n.connect=function(t,r){return l.connect(t,r),this},n.disconnect=function(t){return l.disconnect(t),this},n.hasListener=function(t){return l.has.apply(l,arguments)},n}var u=e(1),h=e(3),c=e(10),f=e(11);Array.prototype.forEach||(Array.prototype.forEach=function(t){for(var r=0;r<this.length;r++)t.apply(this,[this[r],r,this])}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,r){for(var e=r||0;e<this.length;e++)if(this[e]==t)return e;return-1});var p=0;t.exports=a},function(t,r,e){(function(t){function e(t,r){for(var e=0,n=t.length-1;n>=0;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),e++):e&&(t.splice(n,1),e--)}if(r)for(;e--;e)t.unshift("..");return t}function n(t,r){if(t.filter)return t.filter(r);for(var e=[],n=0;n<t.length;n++)r(t[n],n,t)&&e.push(t[n]);return e}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return o.exec(t).slice(1)};r.resolve=function(){for(var r="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var s=i>=0?arguments[i]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,o="/"===s.charAt(0))}return r=e(n(r.split("/"),function(t){return!!t}),!o).join("/"),(o?"/":"")+r||"."},r.normalize=function(t){var o=r.isAbsolute(t),i="/"===s(t,-1);return t=e(n(t.split("/"),function(t){return!!t}),!o).join("/"),t||o||(t="."),t&&i&&(t+="/"),(o?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(n(t,function(t,r){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,e){function n(t){for(var r=0;r<t.length&&""===t[r];r++);for(var e=t.length-1;e>=0&&""===t[e];e--);return r>e?[]:t.slice(r,e-r+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var o=n(t.split("/")),i=n(e.split("/")),s=Math.min(o.length,i.length),a=s,u=0;u<s;u++)if(o[u]!==i[u]){a=u;break}for(var h=[],u=a;u<o.length;u++)h.push("..");return h=h.concat(i.slice(a)),h.join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var r=i(t),e=r[0],n=r[1];return e||n?(n&&(n=n.substr(0,n.length-1)),e+n):"."},r.basename=function(t,r){var e=i(t)[2];return r&&e.substr(-1*r.length)===r&&(e=e.substr(0,e.length-r.length)),e},r.extname=function(t){return i(t)[3]};var s="b"==="ab".substr(-1)?function(t,r,e){return t.substr(r,e)}:function(t,r,e){return r<0&&(r=t.length+r),t.substr(r,e)}}).call(r,e(2))},function(t,r){function e(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===e||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(r){try{return c.call(null,t,0)}catch(r){return c.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===n||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(r){try{return f.call(null,t)}catch(r){return f.call(this,t)}}}function s(){g&&l&&(g=!1,l.length?m=l.concat(m):v=-1,m.length&&a())}function a(){if(!g){var t=o(s);g=!0;for(var r=m.length;r;){for(l=m,m=[];++v<r;)l&&l[v].run();v=-1,r=m.length}l=null,g=!1,i(t)}}function u(t,r){this.fun=t,this.array=r}function h(){}var c,f,p=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:e}catch(t){c=e}try{f="function"==typeof clearTimeout?clearTimeout:n}catch(t){f=n}}();var l,m=[],g=!1,v=-1;p.nextTick=function(t){var r=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)r[e-1]=arguments[e];m.push(new u(t,r)),1!==m.length||g||o(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=h,p.addListener=h,p.once=h,p.off=h,p.removeListener=h,p.removeAllListeners=h,p.emit=h,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,r,e){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(t,r,e){if(t&&h.isObject(t)&&t instanceof n)return t;var o=new n;return o.parse(t,r,e),o}function i(t){return h.isString(t)&&(t=o(t)),t instanceof n?t.format():n.prototype.format.call(t)}function s(t,r){return o(t,!1,!0).resolve(r)}function a(t,r){return t?o(t,!1,!0).resolveObject(r):r}var u=e(4),h=e(6);r.parse=o,r.resolve=s,r.resolveObject=a,r.format=i,r.Url=n;var c=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["<",">",'"',"`"," ","\r","\n","\t"],m=["{","}","|","\\","^","`"].concat(l),g=["'"].concat(m),v=["%","/","?",";","#"].concat(g),d=["/","?","#"],y=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,x=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},P={javascript:!0,"javascript:":!0},j={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},O=e(7);n.prototype.parse=function(t,r,e){if(!h.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),o=n!==-1&&n<t.indexOf("#")?"?":"#",i=t.split(o),s=/\\/g;i[0]=i[0].replace(s,"/"),t=i.join(o);var a=t;if(a=a.trim(),!e&&1===t.split("#").length){var f=p.exec(a);if(f)return this.path=a,this.href=a,this.pathname=f[1],f[2]?(this.search=f[2],r?this.query=O.parse(this.search.substr(1)):this.query=this.search.substr(1)):r&&(this.search="",this.query={}),this}var l=c.exec(a);if(l){l=l[0];var m=l.toLowerCase();this.protocol=m,a=a.substr(l.length)}if(e||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var q="//"===a.substr(0,2);!q||l&&P[l]||(a=a.substr(2),this.slashes=!0)}if(!P[l]&&(q||l&&!j[l])){for(var S=-1,E=0;E<d.length;E++){var A=a.indexOf(d[E]);A!==-1&&(S===-1||A<S)&&(S=A)}var T,C;C=S===-1?a.lastIndexOf("@"):a.lastIndexOf("@",S),C!==-1&&(T=a.slice(0,C),a=a.slice(C+1),this.auth=decodeURIComponent(T)),S=-1;for(var E=0;E<v.length;E++){var A=a.indexOf(v[E]);A!==-1&&(S===-1||A<S)&&(S=A)}S===-1&&(S=a.length),this.host=a.slice(0,S),a=a.slice(S),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var I=this.hostname.split(/\./),E=0,U=I.length;E<U;E++){var k=I[E];if(k&&!k.match(b)){for(var L="",$=0,_=k.length;$<_;$++)L+=k.charCodeAt($)>127?"x":k[$];if(!L.match(b)){var N=I.slice(0,E),Q=I.slice(E+1),z=k.match(x);z&&(N.push(z[1]),Q.unshift(z[2])),Q.length&&(a="/"+Q.join(".")+a),this.hostname=N.join(".");break}}}this.hostname.length>y?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=u.toASCII(this.hostname));var F=this.port?":"+this.port:"",W=this.hostname||"";this.host=W+F,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!w[m])for(var E=0,U=g.length;E<U;E++){var D=g[E];if(a.indexOf(D)!==-1){var H=encodeURIComponent(D);H===D&&(H=escape(D)),a=a.split(D).join(H)}}var K=a.indexOf("#");K!==-1&&(this.hash=a.substr(K),a=a.slice(0,K));var M=a.indexOf("?");if(M!==-1?(this.search=a.substr(M),this.query=a.substr(M+1),r&&(this.query=O.parse(this.query)),a=a.slice(0,M)):r&&(this.search="",this.query={}),a&&(this.pathname=a),j[m]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",Z=this.search||"";this.path=F+Z}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var r=this.protocol||"",e=this.pathname||"",n=this.hash||"",o=!1,i="";this.host?o=t+this.host:this.hostname&&(o=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(i=O.stringify(this.query));var s=this.search||i&&"?"+i||"";return r&&":"!==r.substr(-1)&&(r+=":"),this.slashes||(!r||j[r])&&o!==!1?(o="//"+(o||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),r+o+e+s+n},n.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(h.isString(t)){var r=new n;r.parse(t,!1,!0),t=r}for(var e=new n,o=Object.keys(this),i=0;i<o.length;i++){var s=o[i];e[s]=this[s]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),u=0;u<a.length;u++){var c=a[u];"protocol"!==c&&(e[c]=t[c])}return j[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!j[t.protocol]){for(var f=Object.keys(t),p=0;p<f.length;p++){var l=f[p];e[l]=t[l]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||P[t.protocol])e.pathname=t.pathname;else{for(var m=(t.pathname||"").split("/");m.length&&!(t.host=m.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),e.pathname=m.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var g=e.pathname||"",v=e.search||"";e.path=g+v}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var d=e.pathname&&"/"===e.pathname.charAt(0),y=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=y||d||e.host&&t.pathname,x=b,w=e.pathname&&e.pathname.split("/")||[],m=t.pathname&&t.pathname.split("/")||[],O=e.protocol&&!j[e.protocol];if(O&&(e.hostname="",e.port=null,e.host&&(""===w[0]?w[0]=e.host:w.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===m[0]?m[0]=t.host:m.unshift(t.host)),t.host=null),b=b&&(""===m[0]||""===w[0])),y)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,w=m;else if(m.length)w||(w=[]),w.pop(),w=w.concat(m),e.search=t.search,e.query=t.query;else if(!h.isNullOrUndefined(t.search)){if(O){e.hostname=e.host=w.shift();var q=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@");q&&(e.auth=q.shift(),e.host=e.hostname=q.shift())}return e.search=t.search,e.query=t.query,h.isNull(e.pathname)&&h.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!w.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var S=w.slice(-1)[0],E=(e.host||t.host||w.length>1)&&("."===S||".."===S)||""===S,A=0,T=w.length;T>=0;T--)S=w[T],"."===S?w.splice(T,1):".."===S?(w.splice(T,1),A++):A&&(w.splice(T,1),A--);if(!b&&!x)for(;A--;A)w.unshift("..");!b||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),E&&"/"!==w.join("/").substr(-1)&&w.push("");var C=""===w[0]||w[0]&&"/"===w[0].charAt(0);if(O){e.hostname=e.host=C?"":w.length?w.shift():"";var q=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@");q&&(e.auth=q.shift(),e.host=e.hostname=q.shift())}return b=b||e.host&&w.length,b&&!C&&w.unshift(""),w.length?e.pathname=w.join("/"):(e.pathname=null,e.path=null),h.isNull(e.pathname)&&h.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},n.prototype.parseHost=function(){var t=this.host,r=f.exec(t);r&&(r=r[0],":"!==r&&(this.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(this.hostname=t)}},function(t,r,e){var n;(function(t,o){!function(i){function s(t){throw RangeError(I[t])}function a(t,r){for(var e=t.length,n=[];e--;)n[e]=r(t[e]);return n}function u(t,r){var e=t.split("@"),n="";e.length>1&&(n=e[0]+"@",t=e[1]),t=t.replace(R,".");var o=t.split("."),i=a(o,r).join(".");return n+i}function h(t){for(var r,e,n=[],o=0,i=t.length;o<i;)r=t.charCodeAt(o++),r>=55296&&r<=56319&&o<i?(e=t.charCodeAt(o++),56320==(64512&e)?n.push(((1023&r)<<10)+(1023&e)+65536):(n.push(r),o--)):n.push(r);return n}function c(t){return a(t,function(t){var r="";return t>65535&&(t-=65536,r+=L(t>>>10&1023|55296),t=56320|1023&t),r+=L(t)}).join("")}function f(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:w}function p(t,r){return t+22+75*(t<26)-((0!=r)<<5)}function l(t,r,e){var n=0;for(t=e?k(t/q):t>>1,t+=k(t/r);t>U*j>>1;n+=w)t=k(t/U);return k(n+(U+1)*t/(t+O))}function m(t){var r,e,n,o,i,a,u,h,p,m,g=[],v=t.length,d=0,y=E,b=S;for(e=t.lastIndexOf(A),e<0&&(e=0),n=0;n<e;++n)t.charCodeAt(n)>=128&&s("not-basic"),g.push(t.charCodeAt(n));for(o=e>0?e+1:0;o<v;){for(i=d,a=1,u=w;o>=v&&s("invalid-input"),h=f(t.charCodeAt(o++)),(h>=w||h>k((x-d)/a))&&s("overflow"),d+=h*a,p=u<=b?P:u>=b+j?j:u-b,!(h<p);u+=w)m=w-p,a>k(x/m)&&s("overflow"),a*=m;r=g.length+1,b=l(d-i,r,0==i),k(d/r)>x-y&&s("overflow"),y+=k(d/r),d%=r,g.splice(d++,0,y)}return c(g)}function g(t){var r,e,n,o,i,a,u,c,f,m,g,v,d,y,b,O=[];for(t=h(t),v=t.length,r=E,e=0,i=S,a=0;a<v;++a)g=t[a],g<128&&O.push(L(g));for(n=o=O.length,o&&O.push(A);n<v;){for(u=x,a=0;a<v;++a)g=t[a],g>=r&&g<u&&(u=g);for(d=n+1,u-r>k((x-e)/d)&&s("overflow"),e+=(u-r)*d,r=u,a=0;a<v;++a)if(g=t[a],g<r&&++e>x&&s("overflow"),g==r){for(c=e,f=w;m=f<=i?P:f>=i+j?j:f-i,!(c<m);f+=w)b=c-m,y=w-m,O.push(L(p(m+b%y,0))),c=k(b/y);O.push(L(p(c,0))),i=l(e,d,n==o),e=0,++n}++e,++r}return O.join("")}function v(t){return u(t,function(t){return T.test(t)?m(t.slice(4).toLowerCase()):t})}function d(t){return u(t,function(t){return C.test(t)?"xn--"+g(t):t})}var y=("object"==typeof r&&r&&!r.nodeType&&r,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof o&&o);y.global!==y&&y.window!==y&&y.self!==y||(i=y);var b,x=2147483647,w=36,P=1,j=26,O=38,q=700,S=72,E=128,A="-",T=/^xn--/,C=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},U=w-P,k=Math.floor,L=String.fromCharCode;b={version:"1.3.2",ucs2:{decode:h,encode:c},decode:m,encode:g,toASCII:d,toUnicode:v},n=function(){return b}.call(r,e,r,t),!(void 0!==n&&(t.exports=n))}(this)}).call(r,e(5)(t),function(){return this}())},function(t,r){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,r,e){"use strict";r.decode=r.parse=e(8),r.encode=r.stringify=e(9)},function(t,r){"use strict";function e(t,r){return Object.prototype.hasOwnProperty.call(t,r)}t.exports=function(t,r,n,o){r=r||"&",n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var s=/\+/g;t=t.split(r);var a=1e3;o&&"number"==typeof o.maxKeys&&(a=o.maxKeys);var u=t.length;a>0&&u>a&&(u=a);for(var h=0;h<u;++h){var c,f,p,l,m=t[h].replace(s,"%20"),g=m.indexOf(n);g>=0?(c=m.substr(0,g),f=m.substr(g+1)):(c=m,f=""),p=decodeURIComponent(c),l=decodeURIComponent(f),e(i,p)?Array.isArray(i[p])?i[p].push(l):i[p]=[i[p],l]:i[p]=l}return i}},function(t,r){"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,r,n,o){return r=r||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(o){var i=encodeURIComponent(e(o))+n;return Array.isArray(t[o])?t[o].map(function(t){return i+encodeURIComponent(e(t))}).join(r):i+encodeURIComponent(e(t[o]))}).join(r):o?encodeURIComponent(e(o))+n+encodeURIComponent(e(t)):""}},function(t,r,e){function n(){return[].slice.call(arguments).reduce(function(t,r){for(var e in r)t[e]=r[e];return t},{})}function o(t){var r=/([^\?#]*)?(\?[^#]*)?(#.*)?$/,e=r.exec(t);return{path:e[1]||"",queryString:e[2]&&e[2].substring(1)||"",hash:e[3]&&e[3].substring(1)||""}}var i=e(7),s=function(){function t(t){this.params=t.params,this.allowWildcards=t.allowWildcards,this.routeString=t.routeString}return t.prototype.matches=function(t){for(var r,e=(t||"").split("&").reduce(function(t,r){var e=r.split("="),n=e[0],o=e[1];return n&&(t[n]=o),t},{}),n=[].concat(this.params);r=n.shift();){if(!e.hasOwnProperty(r.key))return!1;if(r.value&&e[r.key]!=r.value)return!1}return!(!this.allowWildcards&&this.params.length&&Object.getOwnPropertyNames(e).length>this.params.length)},t.prototype.match=function(t){if(!this.matches(t))return null;var r={params:[],namedParams:{},namedQueryParams:{}};if(!t)return r;var e=this.params.reduce(function(t,r){return t[r.key]=r.name,t},{}),n=i.parse(t);return Object.keys(n).forEach(function(t){var o=n[t];r.params.push(o),e[t]&&(r.namedQueryParams[e[t]]=r.namedParams[e[t]]=o)}),r},t.fromString=function(r){var e={routeString:r,allowWildcards:!1,params:[]};return r.split("&").forEach(function(t){if(t){var r=t.split("="),n=r[0],o=r[1]||"",i=!1,s={key:n};":"==o.charAt(0)?s.name=o.substring(1):"*"==n&&""==o?i=e.allowWildcards=!0:s.value=o,i||e.params.push(s)}}),new t(e)},t}(),a=function(){function t(t){this.regexp=t.regexp,this.params=t.params,this.routeString=t.routeString}var r=/:\w+/g,e=/\*\w+/g,n=/(:[^\/\.]+)|(\*\w+)/g,o=/\*/g,i=/[-[\]{}()+?.,\\^$|#\s]/g;return t.prototype.matches=function(t){return this.regexp.test(t)},t.prototype.match=function(t){if(!this.matches(t))return null;var r={params:[],namedParams:{}};return(this.regexp.exec(t)||[]).slice(1).forEach(function(t,e){void 0!==t&&(t=decodeURIComponent(t)),r.namedParams[this.params[e]]=t,r.params.push(t)},this),r},t.routePathToRegexp=function(t){return t=t.replace(i,"\\$&").replace(r,"([^/]+)").replace(e,"(.*)?").replace(o,".*?").replace(/\/?$/,"/?"),new RegExp("^/?"+t+"$")},t.fromString=function(r){r=r.split(/\?|#/)[0];var e={routeString:r,regexp:t.routePathToRegexp(r),params:(r.match(n)||[]).map(function(t){return t.substring(1)})};return new t(e)},t}(),u=function(){function t(t){this.regex=t}return t.prototype.matches=function(t){return this.regex.test(t)},t.prototype.match=function(t){if(!this.matches(t))return null;var r=o(t);return{params:this.regex.exec(t).slice(1),queryParams:i.parse(r.queryString),namedParams:{}}},t}(),h=function(){function t(t){this.pathPattern=t.pathPattern,this.queryStringPattern=t.queryStringPattern,this.hashPattern=t.hashPattern,this.routeString=t.routeString}return t.prototype.matches=function(t){var r=o(t);return(!this.pathPattern||this.pathPattern.matches(r.path))&&(!this.queryStringPattern||this.queryStringPattern.matches(r.queryString))&&(!this.hashPattern||this.hashPattern.matches(r.hash))},t.prototype.match=function(t){if(!this.matches(t))return null;var r,e,s=o(t),a={params:[],namedParams:{},pathParams:{},queryParams:i.parse(s.queryString),namedQueryParams:{},hashParams:{}},u=function(t){a.params=a.params.concat(t.params),a.namedParams=n(a.namedParams,t.namedParams)};return(e=this.pathPattern)&&(r=e.match(s.path),r&&u(r),a.pathParams=r?r.namedParams:{}),(e=this.queryStringPattern)&&(r=e.match(s.queryString),r&&u(r),a.namedQueryParams=r?r.namedQueryParams:{}),(e=this.hashPattern)&&(r=e.match(s.hash),r&&u(r),a.hashParams=r?r.namedParams:{}),a},t.fromString=function(r){var e=o(r),n=e.path,i=e.queryString||r.indexOf("?")>-1,u=e.hash||r.indexOf("#")>-1;return new t({pathPattern:n&&a.fromString(e.path),queryStringPattern:i&&s.fromString(e.queryString),hashPattern:u&&a.fromString(e.hash),routeString:r})},t}();t.exports=h,h.QueryStringPattern=s,h.PathPattern=a,h.RegExpPattern=u},function(t,r){function e(t,r,e,n){this.type=t,this.detail=r||{},this.target=this.currentTarget=e,this.cancelable=n===!0,this.defaultPrevented=!1,this.stopped=!1,this.timeStamp=(new Date).getTime()}Array.prototype.every||(Array.prototype.every=function(t,r){var e,n;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),i=o.length>>>0;if("function"!=typeof t)throw new TypeError;for(arguments.length>1&&(e=r),n=0;n<i;){var s;if(n in o){s=o[n];var a=t.call(e,s,n,o);if(!a)return!1}n++}return!0}),e.prototype={preventDefault:function(){this.cancelable&&(this.defaultPrevented=!0)},stopPropagation:function(){this.stopped=!0},stopImmediatePropagation:function(){this.stoppedImmediate=!0}},e.createEvent=function(t,r,n,o){return new e(t,r,n,o)},t.exports=function(t){var r={},n=!1,o=[],i=function(t,e){if(!t||"string"!=typeof t)return console.error("type must be a string");if("function"!=typeof e)return console.error("listener must be a function");var n=t.split(" ");return n.forEach(function(t){r[t]=r[t]||[],r[t].push(e)}),this},s=function(t,r){if(!t||"string"!=typeof t)return console.error("type must be a string");if("function"!=typeof r)return console.error("listener must be a function");var e=t.split(" ");return e.forEach(function(t){if(t){var e=function(n){return a(t,e),r.call(this,n)};i(t,e)}}),this},a=function(t,e){if(!t||"string"!=typeof t)return console.error("type must be a string");if("function"!=typeof e)return console.error("listener must be a function");var n=t.split(" ");return n.forEach(function(t){var n=r[t];if(n)for(var o;~(o=n.indexOf(e));)n.splice(o,1)}),this},u=function(t){if("function"==typeof t){var e=!1;return r.forEach(function(r){e||r===t&&(e=!0)}),e}return!(!r[t]||!r[t].length)},h=function(i,s,a,u){if(!n){var h;i&&i.type||i;if("string"==typeof i)h=e.createEvent(i,s,t);else{if(!(i instanceof e))return console.error("illegal arguments, type is must be a string or event",i);h=i}h.currentTarget=t;var c=!1,f=!1,p=!1,l=function(r){c||(r.call(t,h),h.defaultPrevented===!0&&(p=!0),h.stopped===!0&&(f=!0),h.stoppedImmediate===!0&&(c=!0,f=!0))};return a&&u===!1||((r["*"]||[]).slice().reverse().forEach(l),(r[h.type]||[]).slice().reverse().forEach(l)),a&&!f&&(p=!o.every(function(t){return!t.target.fire||"both"!==a&&t.direction!==a||t.target.fire(i,s,a)})),!p}},c=function(){return r=null,this},f=function(){return n=!0,this},p=function(){return n=!1,this},l=function(t,r){return t?~["up","down"].indexOf(r)?(o.push({target:t,direction:r}),this):console.warn('illegal argument: direction must be "up" or "down" but ',r):console.warn("illegal argument: target cannot be null",t)},m=function(t){if(!node)return this;var r=[];return o.forEach(function(e){e.target===t&&r.push(e)}),r.forEach(function(t){o.splice(o.indexOf(t),1)}),this};return{on:i,once:s,off:a,fire:h,has:u,destroy:c,pause:f,resume:p,connect:l,disconnect:m}}}])});